<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script> 
</head>
<body>
<div id="root"></div>
<!-- 장에서 살펴보았던 체크했을 때 작동하는 타이머 프로그램을 리액트로 구현해주세요. -->
<script type="text/babel">
    class App extends React.Component{
        constructor (props){
            super(props)
            this.state={
                text:'',
                length:0
            }
            this.handleChange=this.handleChange.bind(this)
        }
        handleChange(event){
            this.setState({text:event.target.value})
        } //textarea요소 값이 변경될 때 호출, 입력된 text값을 업데이트
        componentDidMount(){ // React 컴포넌트가 마운트된 후에 호출되는 라이프사이클 메소드
            this.timerId=setInterval(()=>{ //콜백함수가 0.5초마다 실행되면서 업데이트
                this.setState({
                    length:this.state.text.length //text를 가져와서 length 업데이트
                })
            },500) 
        }

        render(){
            return<div>
                <h1>글자 수 : {this.state.length}</h1>
                <textarea
                    value={this.state.text}
                    onChange={this.handleChange}></textarea>
            </div>
        }
    }

const container = document.getElementById('root')
ReactDOM.render(<App/>,container)
</script>
</body>
</html>