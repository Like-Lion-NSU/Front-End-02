1. (1) 이벤트 핸들링

2. 리액트의 이벤트 시스템

3. 이벤트를 사용할 때 주의 사항

- 이벤트 이름은 카멜 표기법으로 작성

ex) onclick -> onClick , onkeyup -> onKeyUp

- 이벤트에 실행할 자바스크립트 코드를 전달하는 것이 아니라, 함수 형태의 값을 전달

- DOM 요소에만 이벤트를 설정할 수 있음

3. 이벤트 종류

- Clipboard

- Touch

- Composition

- UI

- Keyboard

- Wheel

- Focus

- Media

- Form

- Image

- Mouse

- Animation

- Selection

- Transition

2. 이벤트 핸들링 익히기 (클래스형)

이벤트 핸들링의 실습 단계

컴포넌트 생성 및 불러오기 -> onChange 이벤트 핸들링하기 -> 임의 메서드 만들기 -> input 여러 개 다루기 -> onKeyPress 이벤트 핸들링하기

3. 컴포넌트 생성 

```js
// EventPractice.js
import React, { Component } from "react";

class EventPractice extends Component {
    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
            </div>
        );
    }
}

export default EventPractice;

// App.js
import React from 'react';
import EventPractice from './EventPractice';

const App = () => {
  return <EventPractice />;
}

export default App;
```

3. onChange 이벤트 핸들링

- onChange 이벤트 설정
```js
import React, { Component } from "react";

class EventPractice extends Component {
    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    onChange={
                        (e) => {
                            console.log(e);
                        }
                    }
                />
            </div>
        );
    }
}

export default EventPractice;
```

- state에 input 값 담기

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        massage: ''
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={
                        (e) => {
                            this.setState({
                                massage: e.target.value
                            })
                        }
                    }
                />
            </div>
        );
    }
}

export default EventPractice;
```

- 버튼을 누를 때 comment 값을 공백으로 설정

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        massage: ''
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={
                        (e) => {
                            this.setState({
                                massage: e.target.value
                            })
                        }
                    }
                />
                <button onClick={
                    () => {
                        alert(this.state.massage);
                        this.setState({
                            massage: ''
                        });
                    }
                }>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

- 임의 메서드 만들기

이벤트를 처리할 때 렌더링을 하는 동시에 함수를 만들어서 전달했지만 미리 함수를 준비해서 전달하는 방법도 있음
성능상으로는 차이가 거의 없지만, 가독성이 훨씬 높음

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        massage: ''
    }

    constructor(props) {
        super(props);
        this.handleChange = this.handleChange.bind(this);
        this.handleClick = this.handleClick.bind(this);
    }

    handleChange(e) {
        this.setState({
            massage: e.target.value
        });
    }

    handleClick() {
        alert(this.state.massage);
        this.setState({
            massage: ''
        });
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={this.handleChange}
                />
                <button onClick={this.handleClick}>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

- Property Initializer Syntax를 사용한 메서드 작성

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        massage: ''
    }

    handleChange(e) {
        this.setState({
            massage: e.target.value
        });
    }

    handleClick = () => {
        alert(this.state.massage);
        this.setState({
            massage: ''
        });
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={this.handleChange}
                />
                <button onClick={this.handleClick}>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

- input 여러 개 다루기

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        username: '',
        massage: ''
    }

    handleChange = (e) => {
        this.setState({
            [e.target.name]: e.target.value
        });
    }

    handleClick = () => {
        alert(this.state.username + ' : ' + this.state.massage);
        this.setState({
            username: '',
            massage: ''
        });
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="사용자명"
                    value={this.state.username}
                    onChange={this.handleChange}
                />
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={this.handleChange}
                />
                <button onClick={this.handleClick}>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

`객체 안에선 key를 []로 감싸면 그 안에 넣은 레퍼런스가 가리키는 실제 값이 key값으로 사용됌`

```js
// 실행 전
const name = 'variantKey';
const object = {
    [name]: 'value'
};

// 실행결과
{
    'variantKey' : 'value'
}
```

- onKeyPress 이벤트 핸들링

```js
import React, { Component } from "react";

class EventPractice extends Component {

    state = {
        username: '',
        massage: ''
    }

    handleChange = (e) => {
        this.setState({
            [e.target.name]: e.target.value
        });
    }

    handleClick = () => {
        alert(this.state.username + ' : ' + this.state.massage);
        this.setState({
            username: '',
            massage: ''
        });
    }

    handleKeyPress = (e) => {
        if (e.key === 'Enter') {
            this.handleClick();
        }
    }

    render() {
        return (
            <div>
                <h1>이벤트 연습</h1>
                <input
                    type="text"
                    name="message"
                    placeholder="사용자명"
                    value={this.state.username}
                    onChange={this.handleChange}
                />
                <input
                    type="text"
                    name="message"
                    placeholder="아무거나 입력해 보세요"
                    value={this.state.massage}
                    onChange={this.handleChange}
                />
                <button onClick={this.handleClick}>확인</button>
            </div>
        );
    }
}

export default EventPractice;
```

2. 함수형 컴포넌트로 구현해 보기

```js
import React, { useState } from "react";

const EventPractice = () => {

    const [username, setUsername] = useState('');
    const [massage, setMassage] = useState('');
    const onChangeUsername = e => setUsername(e.target.value);
    const onChangeMassage = e => setMassage(e.target.value);
    const onClick = () => {
        alert(username + ' : ' + massage);
        setUsername('');
        setMassage('');
    };
    const onKeyPress = e => {
        if (e.key === 'Enter') {
            onClick();
        }
    };

    return (
        <div>
            <h1>이벤트 연습</h1>
            <input
                type="text"
                name="message"
                placeholder="사용자명"
                value={username}
                onChange={onChangeUsername}
            />
            <input
                type="text"
                name="message"
                placeholder="아무거나 입력해 보세요"
                value={massage}
                onChange={onChangeMassage}
                onKeyPress={onKeyPress}
            />
            <button onClick={onClick}>확인</button>
        </div>
    );
}

export default EventPractice;
```

`인풋의 개수가 적으면 위처럼 해도 낫뱃 but 많아지면 아래처럼 객체 이용`

```js
import React, { useState } from "react";

const EventPractice = () => {

    const [form, setForm] = useState({
        username: '',
        massage: ''
    });
    const { username, massage } = form;
    const onChange = e => {
        const nextForm = {
            ...form,
            [e.target.name]: e.target.value
        };
        setForm(nextForm);
    };
    const onClick = () => {
        alert(username + ' : ' + massage);
        setForm({
            username: '',
            massage: ''
        });
    };
    const onKeyPress = e => {
        if (e.key === 'Enter') {
            onClick();
        }
    };

    return (
        <div>
            <h1>이벤트 연습</h1>
            <input
                type="text"
                name="message"
                placeholder="사용자명"
                value={username}
                onChange={onChange}
            />
            <input
                type="text"
                name="message"
                placeholder="아무거나 입력해 보세요"
                value={massage}
                onChange={onChange}
                onKeyPress={onKeyPress}
            />
            <button onClick={onClick}>확인</button>
        </div>
    );
}

export default EventPractice;
```

1. (2) ref : DOM에 이름 달기

- 일반 HTML에서 DOM 요소에 이름을 달 때 id를 사용

- 리액트에서도 index.html 에서 id가 root인 div 요소가 있음

- index.js 파일 중에는 id가 root인 요소에 리액트 컴포넌트를 랜더링하라는 코드가 있음

- 이렇게 리액트 프로젝트 내부에서 DOM에 이름을 다는 방법이 ref

2. ref를 사용하는 상황

`DOM을 꼭 직접적으로 건드려야 할 때`

- 함수형 컴포넌트에서 ref를 사용하려면 Hooks를 알아야하기 때문에 클래스형 컴포넌트 사용

- DOM을 꼭 사용해야 하는 상황

    - 특정 input에 포커스 주기

    - 스크롤 박스 조작하기

    - Canvas 요소에 그림 그리기 등

2. ref 사용

3. 콜백 함수를 통한 ref 설정

- ref를 만드는 가장 기본적인 방법

- ref를 달고자 하는 요소에 ref라는 콜백 함수를 props로 전달해주면 됌

```js
<input ref ={(ref) => {this.input=ref}} />
```

3. createRef를 통한 ref 설정

- 리액트에 내장되어 있는 createRef 함수를 사용하는 방법

- 더 적은 코드로 쉽게 사용 가능

```js
import React, { Component } from 'react';

class RefSample extends Component {
    input = React.createRef();

    handleFocus = () => {
        this.input.current.focus();
    }

    render() {
        return (
            <div>
              <input ref = {this.input} />
            </div>
        );
    }
}

export defalut RefSample;
```

3. input에 ref 달기

```js
render(){
    return(
        <div>
        <input
        type = "password"
        value = {this.state.password}
        onChange= {this.handleChange}
        className={this.state.clicked ? (this.state.validated ? 'success' : 'failure') : ''}
        />
        </div>
    )
}

(...)
<input
ref={(ref) => this.input = ref}
(...)
/>
```

3. 버튼 onClick 이벤트 코드 수정
```js
handleButtonClick = () => {
    this.setState({
        clicked: true,
        validated: this.state.password === '0000'
    })
}

handleButtonClick = () = {
    this.setState({
        clicked: true,
        validated: this.state.password === '0000'
    });
    this.input.focus();
}
```

2. 컴포넌트에 ref 달기

```js
<MyComponent
ref ={(ref) => {this.Component=ref}}
/>
```